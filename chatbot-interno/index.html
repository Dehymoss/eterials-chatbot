<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Éter - Asistente de Eterials Gastro-Café</title>
    <script>
        // Nombre del chatbot
        const nombreChatbot = "Éter";

        // Función para obtener el número de mesa desde la URL
        function obtenerNumeroMesa() {
            let params = new URLSearchParams(window.location.search);
            return params.get("mesa") || "Sin número";
        }

        // Función para determinar el saludo según la hora
        function obtenerSaludo() {
            let hora = new Date().getHours();
            if (hora >= 6 && hora < 12) return "Buenos días";
            if (hora >= 12 && hora < 18) return "Buenas tardes";
            return "Buenas noches";
        }

        // Mostrar saludo y presentación del chatbot
        function mostrarPresentacion() {
            let saludo = obtenerSaludo();
            let numeroMesa = obtenerNumeroMesa();
            let mensaje = `${saludo}, bienvenido a *Eterials Gastro-Café*.  
            Soy ${nombreChatbot}, tu asistente en la mesa ${numeroMesa}.`;

            document.getElementById("saludo").innerHTML = mensaje;

            setTimeout(() => {
                preguntarNombreUsuario();
            }, 1500);
        }

        // Pregunta si el usuario desea ingresar su nombre
        function preguntarNombreUsuario() {
            let respuesta = confirm("¿Quieres que te llamemos por tu nombre?");
            if (respuesta) {
                document.getElementById("nombre-container").style.display = "block";
            } else {
                localStorage.setItem("nombreCliente", "Invitado");
            }
        }

        // Guardar el nombre del cliente
        function guardarNombre() {
            let nombre = document.getElementById("nombre").value.trim();
            if (nombre !== "") {
                localStorage.setItem("nombreCliente", nombre);
                alert(`¡Gracias, ${nombre}! Ahora te llamaremos por tu nombre.`);
            } else {
                alert("Por favor, ingresa un nombre válido.");
            }
            document.getElementById("nombre-container").style.display = "none";
        }

        window.onload = function() {
            mostrarPresentacion();
        };
    </script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .boton {
            display: block;
            width: 90%;
            max-width: 400px;
            padding: 15px;
            margin: 10px auto;
            background-color: #6A0DAD;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
            text-align: center;
            border-radius: 8px;
        }
        .boton:hover { background-color: #530A8E; }
        .container { display: flex; flex-direction: column; align-items: center; gap: 10px; margin-top: 20px; }
        .nombre-container { display: none; margin-top: 20px; }
    </style>
</head>
<body>
    <h2 id="saludo">Cargando...</h2>

    <div id="nombre-container" class="nombre-container">
        <p>Escribe tu nombre para personalizar tu experiencia:</p>
        <input type="text" id="nombre" placeholder="Escribe tu nombre">
        <button class="boton" onclick="guardarNombre()">Guardar Nombre</button>
    </div>

    <div class="container">
        <h3>Selecciona una opción:</h3>
        <button class="boton" onclick="window.location.href='menu.html'">📜 Menú</button>
        <button class="boton" onclick="window.location.href='cancionero.html'">🎶 Cancionero</button>
        <button class="boton" onclick="window.location.href='mesero.html'">🧑‍🍳 Llamar al mesero</button>
        <button class="boton" onclick="window.location.href='galeria.html'">🖼️ Galería</button>
        <button class="boton" onclick="window.location.href='eventos.html'">📅 Próximos eventos</button>
        <button class="boton" onclick="window.location.href='karaoke.html'">🎤 Karaoke</button>
    </div>
</body>
</html>